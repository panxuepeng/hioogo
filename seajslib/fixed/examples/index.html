<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>Fixed demo</title>
<style type="text/css"> 
.fixedbar1{position:fixed; _position:absolude; background-color:black; color:#FFF; width:100%;padding:10px;left:0;}
.fixedbar2{position:fixed; _position:absolude; border:1px solid #666; width:25px;text-align:center; padding:5px 2px;}
</style>
</head>

<body>
<div id="topbar" class="fixedbar1" data-toggle="fixed" data-type="ontop" style="visibility:hidden">固定元素到窗口顶部</div>
<div class="fixedbar1" data-toggle="fixed" data-type="onbottom">固定元素到窗口底部</div>
<div id="top" class="fixedbar2" data-toggle="fixed" data-type="onright" data-right="10" data-bottom="80" style="visibility:hidden">返回顶部</div>
<div id="mulu" class="fixedbar2" data-toggle="fixed" data-type="oncenter" data-offset="200" data-bottom="100">目录</div>

<div style="width:1000px;height:2600px;margin:0 auto;">
	<div style="width:696px;height:2600px;float:left;border:1px solid #666;"></div>
	<div style="width:300px;height:2600px;float:right;border:1px solid #666;">
		<div id="right1" style="width:296px;height:120px;border:1px solid #666;"></div>
		<div id="right2" style="width:296px;height:100px;border:1px solid green;"
			data-toggle="fixed"
			data-type="oncenter"
			data-offset="200"
			data-top="38"
			data-trigger="scrolltop"
		>
			条件滚动：当这个框框滚动到窗口顶部的时候将浮动起来
		</div>
	</div>
</div>

<script src="../../jquery/jquery-loader.js"></script>
<script src="../../seajs/src/seajs.js" id="seajsnode"></script>
<script>

$("#topbar").bind('floating', function(){
	$(this).css('visibility', $(document).scrollTop() > 300 ? 'visible': 'hidden');
});

var timer1;
$("#top").bind('floating', function(){
	var self = this;
	clearTimeout(timer1);
	timer1 = setTimeout(function(){
		$(self).css('visibility', $(document).scrollTop() > 200 ? 'visible': 'hidden');
	}, 500);
});

seajs.use('../src/fixed');
setTimeout(function(){
	$("#right1").height(350);
}, 2000);

</script>
</body>
</html>
